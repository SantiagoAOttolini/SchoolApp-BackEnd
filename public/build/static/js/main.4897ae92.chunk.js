(this["webpackJsonpschoolapp-frontend"]=this["webpackJsonpschoolapp-frontend"]||[]).push([[0],{47:function(s,e,t){s.exports=t(85)},55:function(s,e,t){},57:function(s,e,t){},83:function(s,e,t){},84:function(s,e,t){},85:function(s,e,t){"use strict";t.r(e);var a=t(0),n=t.n(a),c=t(28),o=t.n(c),r=t(10),i=t(11),l=t(16),u=t(12),d=t(15),m=t(14),p=t(40),E=t(13),h=t(41),b=t(19),f=t(1),g={authentication:!1,users:[],error:null,isLoading:!1,message:void 0,logged:!1,token:"",failedLogin:!1},S={students:[],size:"",error:null,isLoading:!1,message:void 0,adminActions:!1,studentSelected:""},O={qualifications:[],size:"",error:null,isLoading:!1,message:void 0,adminActions:!1,qualificationSelected:""},N=Object(E.combineReducers)({users:function(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"AUTHENTICATION":return Object(f.a)({},s,{authentication:e.payload.authentication,token:e.payload.token});case"USER_LOGOUT":return{state:g};case"LOGIN_USER_PENDING":return Object(f.a)({},s,{isLoading:!0,failedLogin:!1});case"LOGIN_USER_SUCCESS":return Object(f.a)({},s,{isLoading:!1,token:e.payload.token,authentication:!0});case"LOGIN_USER_ERROR":return Object(f.a)({},s,{isLoading:!1,message:e.payload,failedLogin:!0});case"FETCH_USERS":return Object(f.a)({},s,{users:e.payload});case"ADD_USER_PENDING":return Object(f.a)({},s,{isLoading:!0});case"ADD_USER_SUCCESS":var t=e.payload.user,a=[].concat(Object(b.a)(s.users),[t]);return Object(f.a)({},s,{isLoading:!1,users:a});case"ADD_USER_ERROR":return Object(f.a)({},s,{isLoading:!1,error:e.error,message:e.payload.message});default:return s}},students:function(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"FETCH_STUDENT":return Object(f.a)({},s,{students:e.payload.students,adminActions:!1});case"ADD_STUDENT_PENDING":return Object(f.a)({},s,{isLoading:!0});case"ADD_STUDENT_SUCCESS":var t=e.payload.student,a=[].concat(Object(b.a)(s.students),[t]);return Object(f.a)({},s,{isLoading:!1,students:a});case"ADD_STUDENT_ERROR":return Object(f.a)({},s,{isLoading:!1,error:e.error,message:e.payload.message});case"UPDATE_STUDENT_PENDING":return Object(f.a)({},s,{isLoading:!0});case"UPDATE_STUDENT_SUCCESS":console.log(e.payload);var n=Object(b.a)(s.items),c=n.findIndex((function(s){return s._id===e.payload._id}));return n.splice(c,1,e.payload.student.data),Object(f.a)({},s,{isLoading:!1,students:n});case"UPDATE_STUDENT_ERROR":return Object(f.a)({},s,{isLoading:!1,message:e.payload.message});case"SET_SELECTED_STUDENT_ID":return Object(f.a)({},s,{studentSelected:e.payload});case"DELETE_STUDENT_PENDING":return Object(f.a)({},s,{isLoading:!0});case"DELETE_STUDENT_SUCCESS":console.log(e.payload);var o=Object(b.a)(s.students),r=o.findIndex((function(s){return s._id===e.payload._id}));return o.splice(r,1),Object(f.a)({},s,{isLoading:!1,students:o});case"DELETE_STUDENT_ERROR":return Object(f.a)({},s,{isLoading:!1,message:e.payload.message});default:return s}},qualifications:function(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"FETCH_QUALIFICATION":return Object(f.a)({},s,{qualifications:e.payload.qualifications,adminActions:!1});case"ADD_QUALIFICATION_PENDING":return Object(f.a)({},s,{isLoading:!0});case"ADD_QUALIFICATION_SUCCESS":console.log(e.payload);var t=e.payload.qualification,a=[].concat(Object(b.a)(s.qualifications),[t]);return Object(f.a)({},s,{isLoading:!1,qualifications:a});case"ADD_QUALIFICATION_ERROR":return Object(f.a)({},s,{isLoading:!1,error:e.error,message:e.payload.message});case"UPDATE_QUALIFICATION_PENDING":return Object(f.a)({},s,{isLoading:!0});case"UPDATE_QUALIFICATION_SUCCESS":console.log(e.payload);var n=Object(b.a)(s.items),c=n.findIndex((function(s){return s._id===e.payload._id}));return n.splice(c,1,e.payload.qualification.data),Object(f.a)({},s,{isLoading:!1,qualifications:n});case"UPDATE_QUALIFICATION_ERROR":return Object(f.a)({},s,{isLoading:!1,message:e.payload.message});case"SET_SELECTED_QUALIFICATION_ID":return Object(f.a)({},s,{qualificationSelected:e.payload});case"DELETE_QUALIFICATION_PENDING":return Object(f.a)({},s,{isLoading:!0});case"DELETE_QUALIFICATION_SUCCESS":console.log(e.payload);var o=Object(b.a)(s.qualifications),r=o.findIndex((function(s){return s._id===e.payload._id}));return o.splice(r,1),Object(f.a)({},s,{isLoading:!1,qualifications:o});case"DELETE_QUALIFICATION_ERROR":return Object(f.a)({},s,{isLoading:!1,message:e.payload.message});default:return s}}}),y=[h.a],L=Object(E.createStore)(N,Object(p.composeWithDevTools)(E.applyMiddleware.apply(void 0,y))),j=t(42),_=t(17),T=t(24),D=(t(55),function(s){function e(){return Object(r.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(d.a)(e,s),Object(i.a)(e,[{key:"render",value:function(){return n.a.createElement("div",{className:"containerHome"},n.a.createElement("div",{className:"header"},n.a.createElement("div",{className:"title"},n.a.createElement("h1",{className:"text1"},"School App"),n.a.createElement("h1",{className:"text2"},"Bienvenidos")),n.a.createElement("div",{className:"nav"},n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement(_.b,{className:"login",to:"/Login"},"Login")),n.a.createElement("li",null," ",n.a.createElement(_.b,{className:"register",to:"/register"},"Register"))))),n.a.createElement("div",{className:"wrapper"},n.a.createElement("div",{className:"section"},n.a.createElement("h2",null,"Information"),n.a.createElement("p",null),n.a.createElement("p",null,"Escribi aca ivan en ingles la info de lo que hace ssssssssssssssssssssssssssssssssssssssssssssss ssssssssssssssssssssssssssssssssssssssssssssss ssssssssssssssssssssssssssssssssssssssssssssss ssssssssssssssssssssssssssssssssssssssssssssss ssssssssssssssssssssssssssssssssssssssssssssss ssssssssssssssssssssssssssssssssssssssssssssss ssssssssssssssssssssssssssssssssssssssssssssss ssssssssssssssssssssssssssssssssssssssssssssss"),n.a.createElement("p",null,"Escribi aca ivan en ingles la info de lo que hace ssssssssssssssssssssssssssssssssssssssssssssss ssssssssssssssssssssssssssssssssssssssssssssss ssssssssssssssssssssssssssssssssssssssssssssss ssssssssssssssssssssssssssssssssssssssssssssss ssssssssssssssssssssssssssssssssssssssssssssss ssssssssssssssssssssssssssssssssssssssssssssss ssssssssssssssssssssssssssssssssssssssssssssss ssssssssssssssssssssssssssssssssssssssssssssss"),n.a.createElement("p",null,"Escribi aca ivan en ingles la info de lo que hace ssssssssssssssssssssssssssssssssssssssssssssss ssssssssssssssssssssssssssssssssssssssssssssss ssssssssssssssssssssssssssssssssssssssssssssss ssssssssssssssssssssssssssssssssssssssssssssss ssssssssssssssssssssssssssssssssssssssssssssss ssssssssssssssssssssssssssssssssssssssssssssss ssssssssssssssssssssssssssssssssssssssssssssss ssssssssssssssssssssssssssssssssssssssssssssss"),n.a.createElement("p",null,"Escribi aca ivan en ingles la info de lo que hace ssssssssssssssssssssssssssssssssssssssssssssss ssssssssssssssssssssssssssssssssssssssssssssss ssssssssssssssssssssssssssssssssssssssssssssss ssssssssssssssssssssssssssssssssssssssssssssss ssssssssssssssssssssssssssssssssssssssssssssss ssssssssssssssssssssssssssssssssssssssssssssss ssssssssssssssssssssssssssssssssssssssssssssss ssssssssssssssssssssssssssssssssssssssssssssss"))))}}]),e}(a.Component)),A=Object(m.b)((function(s){return{isLoading:s.isLoading,authentication:s.Authentication}}),(function(s){return Object(E.bindActionCreators)({},s)}))(D),I=t(30),U=(t(57),t(5)),C=function(s){return function(s){s({type:"LOGIN_USER_PENDING"});var e={timeout:25e3,method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:document.getElementById("emailLogin").value,password:document.getElementById("passwordLogin").value})};return fetch("https://stormy-brook-34938.herokuapp.com/api/user/login",e).then((function(s){return s.json()})).then((function(e){return"Authentication Failed"!==e.msg?s({type:"LOGIN_USER_SUCCESS",payload:e}):s({type:"LOGIN_USER_ERROR",payload:e.error})}))}},v=t(46),k=function(s){function e(s){var t;return Object(r.a)(this,e),(t=Object(l.a)(this,Object(u.a)(e).call(this,s))).getLogin=function(s){console.log(t.props),t.props.logIn(s).then((function(s){console.log(s),t.props.authentication&&t.props.history.push("/menu")}))},t.getLogin=t.getLogin.bind(Object(I.a)(t)),t}return Object(d.a)(e,s),Object(i.a)(e,[{key:"render",value:function(){var s=this;return n.a.createElement("div",{className:"loginContainer"},n.a.createElement(U.c,{initialValues:{email:"",password:""},onSubmit:this.getLogin},(function(e){var t=e.handleSubmit;return n.a.createElement(U.b,{onSubmit:t},n.a.createElement("div",{className:"containerLogin"},n.a.createElement("h5",null," Sign in to SchoolApp"),n.a.createElement("div",{className:"login"},n.a.createElement(U.a,{type:"email",id:"emailLogin",name:"email",placeholder:"Email"}),n.a.createElement(U.a,{type:"password",id:"passwordLogin",name:"password",placeholder:"Password"}),s.props.isLoading?n.a.createElement(v.ClipLoader,{size:25,color:"white",loading:!0}):n.a.createElement("button",{type:"submit",className:"btnLogin"},"Sign In"),n.a.createElement("div",null,s.props.failedLogin?n.a.createElement("div",{className:"bad-credentials"}):null)),n.a.createElement("div",{className:"btnLinks"},n.a.createElement("p",null,n.a.createElement(_.b,{className:"btnCreateAccount",to:"/register"},"Create Account")),n.a.createElement("p",null,n.a.createElement(_.b,{className:"btnHome",to:"/home"},"Back to home")))))})))}}]),e}(a.Component),R=Object(m.b)((function(s,e){return{users:s.users,isLoading:s.users.isLoading,authentication:s.users.authentication,failedLogin:s.users.failedLogin}}),(function(s){return Object(E.bindActionCreators)({logIn:C},s)}))(k),P=(t(83),function(s){function e(){return Object(r.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(d.a)(e,s),Object(i.a)(e,[{key:"render",value:function(){var s=this;return n.a.createElement("div",{className:"registerContainer"},n.a.createElement(U.c,{initialValues:{password:"",email:""},onSubmit:function(e){s.props.postUser(e)}},(function(s){var e=s.handleSubmit;return n.a.createElement(U.b,{onSubmit:e},n.a.createElement("div",{className:"containerRegister"},n.a.createElement("h4",null," Sign up to SchoolApp"),n.a.createElement(U.a,{type:"text",className:"registerEmail",name:"email",placeholder:"Email"}),n.a.createElement(U.a,{type:"text",className:"registerPassword",name:"password",placeholder:"Password"}),n.a.createElement("button",{className:"btnSubmit",type:"submit"},"Sign Up"),n.a.createElement("div",{className:"btnRegisterLinks"},n.a.createElement("p",null,n.a.createElement(_.b,{className:"btnBackHome",to:"/home"},"Back to home")))))})))}}]),e}(a.Component)),q=Object(m.b)((function(s){return{users:s.users,isLoading:s.isLoading}}),{postUser:function(s){return function(e){e({type:"ADD_USER_PENDING"});var t={timeout:25e3,method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)};return fetch("https://stormy-brook-34938.herokuapp.com/api/user/signup",t).then((function(s){return s.json()})).then((function(s){return console.log("POST USER",s),Object.entries(s).length?e({type:"ADD_USER_SUCCESS",payload:{user:s}}):Promise.reject(s)})).catch((function(s){return e({type:"ADD_USER_ERROR",payload:s})}))}}})(P),Q=(t(84),function(s){function e(s){var t;return Object(r.a)(this,e),(t=Object(l.a)(this,Object(u.a)(e).call(this,s))).state={check:!1,chek2:!1},t}return Object(d.a)(e,s),Object(i.a)(e,[{key:"componentDidMount",value:function(){this.props.fetchStudents(),this.props.fetchQualifications()}},{key:"render",value:function(){var s=this;return console.log(this.props.qualificationList),n.a.createElement("div",{className:"containerMenu"},n.a.createElement("div",{className:this.state.check?"overlayEnabled":"overlayDisabled"}),n.a.createElement("div",{className:this.state.check?"popUpEnabled":"popUpDisabled"},n.a.createElement(U.c,{initialValues:{name:"",lastname:"",age:"",class:""},onSubmit:function(e){s.props.postStudent(e),s.setState((function(s){return{check:!s.check}}))}},(function(e){var t=e.handleSubmit;return n.a.createElement(U.b,{onSubmit:t},n.a.createElement("div",{className:"containerAddStudent"},n.a.createElement("h4",null," Add Students"),n.a.createElement(U.a,{type:"text",className:"nameStudent",name:"name",placeholder:"Name"}),n.a.createElement(U.a,{type:"text",className:"lastnameStudent",name:"lastname",placeholder:"Last name"}),n.a.createElement(U.a,{type:"text",className:"ageStudent",name:"age",placeholder:"Age"}),n.a.createElement(U.a,{type:"text",className:"classStudent",name:"class",placeholder:"Class"}),n.a.createElement("button",{className:"btnAddStudent",type:"submit"},"Add"),n.a.createElement("button",{type:"button",className:"btnAddStudent",onClick:function(){return s.setState((function(s){return{check:!s.check}}))}},"Back")))}))),n.a.createElement("div",{className:this.state.check2?"overlayEnabledMark":"overlayDisabledMark"}),n.a.createElement("div",{className:this.state.check2?"popUpEnabledMark":"popUpDisabledMark"},n.a.createElement(U.c,{initialValues:{studentId:"",subject:"",note:""},onSubmit:function(e){s.props.postQualification(e),s.setState((function(s){return{check2:!s.check2}}))}},(function(e){var t=e.handleSubmit;return n.a.createElement(U.b,{onSubmit:t},n.a.createElement("div",{className:"containerAddMarks"},n.a.createElement("h4",null," Add Notes"),n.a.createElement(U.a,{type:"text",as:"select",className:"nameStudentMark",name:"studentId",placeholder:"Student"},n.a.createElement("option",{defaultValue:!0},"Select an student"),s.props.studentList.map((function(s){return n.a.createElement("option",{value:s._id},"".concat(s.name,"-").concat(s.lastname))}))),n.a.createElement(U.a,{type:"text",className:"subjectMark",name:"subject",placeholder:"Subject"}),n.a.createElement(U.a,{type:"text",className:"noteMark",name:"note",placeholder:"Note"}),n.a.createElement("button",{className:"btnAddMark",type:"submit"},"Add"),n.a.createElement("button",{type:"button",className:"btnAddMark",onClick:function(){return s.setState((function(s){return{check2:!s.check2}}))}},"Back")))}))),n.a.createElement("table",{className:"content-table-student"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Actions"),n.a.createElement("th",null,"Name"),n.a.createElement("th",null,"Last name"),n.a.createElement("th",null,"Age"),n.a.createElement("th",null,"Class"))),n.a.createElement("tbody",null,this.props.studentList&&this.props.studentList.map((function(e){return n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("button",{className:"btnDeleteStudent",onClick:function(){s.props.deleteStudent(e._id)}},"Delete")),n.a.createElement("td",null,e.name),n.a.createElement("td",null,e.lastname),n.a.createElement("td",null,e.age),n.a.createElement("td",null,e.class))}))),n.a.createElement("button",{className:"btnAdd",onClick:function(){return s.setState((function(s){return{check:!s.check}}))}},"Add")),n.a.createElement("table",{className:"content-table-mark"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Actions"),n.a.createElement("th",null,"Student"),n.a.createElement("th",null,"Subject"),n.a.createElement("th",null,"Note"))),n.a.createElement("tbody",null,this.props.qualificationList&&this.props.qualificationList.map((function(e){return n.a.createElement("tr",null,n.a.createElement("button",{className:"btnDeleteQualification",onClick:function(){s.props.deleteQualification(e._id)}},"Delete"),n.a.createElement("td",null,"".concat(e.student.name,"-").concat(e.student.lastname)),n.a.createElement("td",null,e.subject),n.a.createElement("td",null,e.note))}))),n.a.createElement("button",{className:"btnAdd",onClick:function(){return s.setState((function(s){return{check2:!s.check2}}))}},"Add")),n.a.createElement("div",{className:"buttonLogOut"},n.a.createElement(_.b,{className:"btnLogOut",to:"/login",onClick:this.props.logOut},"Log Out")))}}]),e}(a.Component)),w={Authentication:function(s){return{type:"AUTHENTICATION",payload:s}},logOut:function(s){return{type:"USER_LOGOUT"}},postStudent:function(s){return function(e){e({type:"ADD_STUDENT_PENDING"});var t=L.getState().users.token,a={timeout:25e3,method:"POST",headers:{"Content-Type":"application/json",authorization:"BEARER ".concat(t)},body:JSON.stringify(s)};return fetch("https://stormy-brook-34938.herokuapp.com/api/students",a).then((function(s){return s.json()})).then((function(s){return Object.entries(s).length?e({type:"ADD_STUDENT_SUCCESS",payload:{student:s.createdStudent}}):Promise.reject(s)})).catch((function(s){return e({type:"ADD_STUDENT_ERROR",payload:s})}))}},fetchStudents:function(){return function(s){fetch("https://stormy-brook-34938.herokuapp.com/api/students").then((function(s){return s.json()})).then((function(e){return console.log(e),s({type:"FETCH_STUDENT",payload:e})}))}},postQualification:function(s){return function(e){e({type:"ADD_QUALIFICATION_PENDING"});var t=L.getState().users.token,a={timeout:25e3,method:"POST",headers:{"Content-Type":"application/json",authorization:"BEARER ".concat(t)},body:JSON.stringify(s)};return fetch("https://stormy-brook-34938.herokuapp.com/api/qualifications",a).then((function(s){return s.json()})).then((function(s){return Object.entries(s).length?e({type:"ADD_QUALIFICATION_SUCCESS",payload:{qualification:s.createdQualification}}):Promise.reject(s)})).catch((function(s){return e({type:"ADD_QUALIFICATION_ERROR",payload:s})}))}},fetchQualifications:function(){return function(s){fetch("https://stormy-brook-34938.herokuapp.com/api/qualifications").then((function(s){return s.json()})).then((function(e){return console.log(e),s({type:"FETCH_QUALIFICATION",payload:e})}))}},deleteStudent:function(s){return function(e){e({type:"DELETE_STUDENT_PENDING"});return fetch("https://stormy-brook-34938.herokuapp.com/api/students/".concat(s),{timeout:25e3,method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(s){return s.json()})).then((function(s){return Object.entries(s).length?"error"===s.message?e({type:"DELETE_STUDENT_ERROR"}):e({type:"DELETE_STUDENT_SUCCESS",payload:s}):Promise.reject(s)})).catch((function(s){return e({type:"DELETE_STUDENT_ERROR",payload:s})}))}},deleteQualification:function(s){return function(e){e({type:"DELETE_QUALIFICATION_PENDING"});return fetch("https://stormy-brook-34938.herokuapp.com/api/qualifications/".concat(s),{timeout:25e3,method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(s){return s.json()})).then((function(s){return Object.entries(s).length?e({type:"DELETE_QUALIFICATION_SUCCESS",payload:s}):Promise.reject(s)})).catch((function(s){return e({type:"DELETE_QUALIFICATION_ERROR",payload:s})}))}}},F=Object(m.b)((function(s){return{isLoading:s.isLoading,authentication:s.AUTHENTICATION,studentList:s.students.students,qualificationList:s.qualifications.qualifications}}),w)(Q),G=function(s){function e(){return Object(r.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(d.a)(e,s),Object(i.a)(e,[{key:"render",value:function(){return n.a.createElement(_.a,null,n.a.createElement(T.d,null,n.a.createElement(T.b,{exact:!0,path:"/home",component:A}),n.a.createElement(x,{exact:!0,path:"/menu",component:F}),n.a.createElement(T.b,{exact:!0,path:"/login",component:R}),n.a.createElement(T.b,{exact:!0,path:"/register",component:q}),n.a.createElement(T.a,{from:"/",to:"/home"})))}}]),e}(a.Component),x=function(s){var e=s.component,t=Object(j.a)(s,["component"]);return n.a.createElement(T.b,Object.assign({},t,{render:function(s){return L.getState().users.token?n.a.createElement(e,s):n.a.createElement(T.a,{to:"/"})}}))},M=Object(m.b)()(G),B=function(s){function e(){return Object(r.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(d.a)(e,s),Object(i.a)(e,[{key:"render",value:function(){return n.a.createElement(m.a,{store:L},n.a.createElement(M,null))}}]),e}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(s){s.unregister()}))}},[[47,1,2]]]);
//# sourceMappingURL=main.4897ae92.chunk.js.map